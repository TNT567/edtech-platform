server:
  port: 8080

spring:
  application:
    name: edtech-platform

  # Database Configuration
  datasource:
    url: jdbc:mysql://localhost:3306/edtech_db?createDatabaseIfNotExist=true&useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver

  sql:
    init:
      mode: always
      schema-locations: classpath:sql/init.sql

  # Redis Configuration
  data:
    redis:
      host: localhost
      port: 6379
      database: 0

  # AI Configuration (Qwen via OpenAI Compatible Interface)
  ai:
    openai:
      api-key: ${AI_API_KEY:sk-请在.env文件中配置你的API密钥}
      base-url: ${AI_BASE_URL:https://dashscope.aliyuncs.com/compatible-mode}
      chat:
        options:
          model: ${AI_MODEL:qwen-plus}
          temperature: 0.7
          max-tokens: 2000
          timeout: 30s

# AI服务配置
ai:
  service:
    enabled: true
    retry-count: 3
    timeout: 30000
    fallback-enabled: true

# --- Commercial SaaS Configuration ---
saas:
  security:
    jwt:
      secret: ${JWT_SECRET:9a4f2c8d3b7a1e6f4c5d8e9a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c} # 256-bit secret
      expiration: 86400000 # 24 hours
  payment:
    stripe:
      public-key: ${STRIPE_PK:pk_test_...}
      secret-key: ${STRIPE_SK:sk_test_...}
    alipay:
      app-id: ${ALIPAY_APPID:2021...}
      private-key: ${ALIPAY_PRIVATE_KEY:...}
  tenant:
    default-plan: FREE

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics
  metrics:
    tags:
      application: ${spring.application.name} 
